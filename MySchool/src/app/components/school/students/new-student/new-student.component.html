<form class="group5" [formGroup]="formGroup">
  <button class="close-btn" (click)="closeModal()">ร</button>
  <!-- <app-head></app-head> -->
  <div class="student-header rtl-direction">
    <div class="student-photo-section">
      <h2 class="school">{{isEditMode ? 'ุชุนุฏูู ุจูุงูุงุช ุงูุทุงูุจ' : 'ุฅุถุงูุฉ ุทุงูุจ ุฌุฏูุฏ'}}</h2>
      <div class="student-photo">
        <label for="fileInput">
          <img [src]="studentImageURL ? studentImageURL : 'assets/img/user.jpg'" alt="Student Photo" />
        </label>
        <input type="file" id="fileInput" accept="image/*" (change)="onFileSelected($event)" style="display: none" />
      </div>
    </div>

    <div class="student-info-section">
      <div class="student-name-id">
        <div class="student-name">
          <div class="form-group StudentName">
            <label for="studentName">ุงุณู ุงูุทุงูุจ:</label>
            <input [disabled]="true" type="text" id="studentName" [readonly]="true" />
          </div>
        </div>
        <div class="student-id">
          <div class="form-group">
            <label for="studentID">ุฑูู ุงูุทุงูุจ:</label>
            <input [disabled]="true" type="text" id="studentID" formControlName="studentID" [readonly]="true" />
          </div>
          <!-- <span>{{ student?.id }}</span> -->
        </div>
      </div>

      <div class="buttons">
        <button class="btn btn-success" type="submit" [disabled]="!formGroup.valid"
          (click)="isEditMode?onUpdate():onSubmit()">{{isEditMode? 'ุชุนุฏูู' : 'ุฅุถุงูุฉ'}}</button>
        <button class="btn btn-info" (click)="resetForm()">ุฌุฏูุฏ</button>
        <button class="btn btn-warning">ุงูุดูุงุฏุฉ</button>

        <button type="button" class="btn btn-primary" (click)="showCameraFun()">๐ทุงูุชูุงุท ูู ุงููุงููุฑุง</button>
      </div>
    </div>
    @if (showCamera) {
    <p-dialog [(visible)]="showCamera" header="๐ธุงูุชูุงุท ุตูุฑุฉ" [modal]="true">
      <app-camera (imageCaptured)="handleCapturedImage($event)" (cancel)="showCamera = false">
      </app-camera>
    </p-dialog>
    }
  </div>

  <div id="id01" class="" dir="rtl">
    <div class="modal-content" style="background-color: #ffffff !important">
      <div class="container">
        <button [ngClass]="{ tablink: true, active: activeTab === 'DataStudent' }" [id]="isEditMode?'':'defaultOpen'"
          (click)="openPage('DataStudent', $event.target)">
          <span>ุจูุงูุงุช ุงูุทุงูุจ</span>
        </button>
        <button [ngClass]="{ tablink: true, active: activeTab === 'OptionData' }"
          (click)="openPage('OptionData', $event.target)">
          <span>ุจูุงูุงุช ุฅุฎุชูุงุฑูุฉ</span>
        </button>
        <button [ngClass]="{ tablink: true, active: activeTab === 'guardian' }"
          (click)="openPage('guardian', $event.target)">
          <span>ููู ุงูุฃูุฑ</span>
        </button>
        <button [ngClass]="{ tablink: true, active: activeTab === 'fees' }" [id]="isEditMode?'defaultOpen':''" (click)="openPage('fees', $event.target)">
          <span>ุฑุณูู ุงูุทุงูุจ</span>
        </button>
        <button [ngClass]="{ tablink: true, active: activeTab === 'document' }"
          (click)="openPage('document', $event.target)">
          <span>ุงููุซุงุฆู</span>
        </button>
        <p class="line"></p>
      </div>
    </div>

    @if (activeTab === 'DataStudent') {
    <div class="tabcontent">
      <app-primary-data></app-primary-data>
    </div>
    } @if (activeTab === 'OptionData') {
    <div class="tabcontent">
      <app-option-data></app-option-data>
    </div>
    } @if (activeTab === 'guardian') {
    <div class="tabcontent">
      <app-guardian></app-guardian>
    </div>
    } @if (activeTab === 'fees') {
    <div class="tabcontent">
      <app-fee></app-fee>
    </div>
    } @if (activeTab === 'document') {
    <div class="tabcontent">
      <app-document></app-document>
    </div>
    }
  </div>
</form>