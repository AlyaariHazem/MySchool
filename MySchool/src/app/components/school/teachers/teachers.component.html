<div id="id01" [attr.dir]="(dir$ | async)" class="modal-container">
  <div class="modal-content">
    <h2 class="school">جميع الموظفين</h2>
    <div class="container">
      <div class="tabcontent">
        <div [ngClass]="{'col-4':(dir$ | async)==='rtl','col-4En':(dir$ | async)==='ltr'}">
          <div class="view-toggle-buttons">
            <button 
              type="button"
              class="view-toggle-btn"
              [class.active]="showCulomn"
              (click)="showteacherCulomn()"
              pTooltip="عرض كجدول" 
              title="عرض كجدول"
              aria-label="عرض كجدول"
              showDelay="200" 
              hideDelay="300">
              <i class="pi pi-bars"></i>
            </button>
            <button 
              type="button"
              class="view-toggle-btn"
              [class.active]="showGrid"
              (click)="showteacherGrid()"
              pTooltip="عرض كبطاقات" 
              title="عرض كبطاقات"
              aria-label="عرض كبطاقات"
              showDelay="200" 
              hideDelay="300">
              <i class="pi pi-th-large"></i>
            </button>
          </div>
        </div>
        
        <p-button 
          label="إضافة موظف+" 
          variant="outlined" 
          severity="success" 
          (click)="openDialog()"
          icon="pi pi-plus"
          [ngClass]="{'add':(dir$ | async)==='rtl','addEn':(dir$ | async)==='ltr','index':true}">
        </p-button>

        @if (showGrid) {
        <div class="group group2">
          @for (teacher of paginated; track $index) {
          <div class="form-control">
            <p-card class="responsive-card employee-card">
              <ng-template pTemplate="header">
                <div class="card-header-image">
                  <img alt="Employee" src="assets/img/user.png" />
                  <div class="employee-badge">
                    <i class="pi pi-user"></i>
                  </div>
                </div>
              </ng-template>
              <div class="card-content">
                <div class="employee-name">
                  <i class="pi pi-user"></i>
                  <span class="name-label">الاسم:</span>
                  <span class="name-value">{{teacher.firstName +" "+ teacher.middleName+" "+ teacher.lastName}}</span>
                </div>
                <div class="employee-info">
                  <div class="info-item">
                    <i class="pi pi-id-card"></i>
                    <span class="info-label">رقم الموظف:</span>
                    <span class="info-value">{{teacher.employeeID || 'N/A'}}</span>
                  </div>
                  <div class="info-item">
                    <i class="pi" [ngClass]="teacher.gender=='Male'?'pi-mars':'pi-venus'"></i>
                    <span class="info-label">النوع:</span>
                    <span class="info-value">{{teacher.gender=="Male"?"ذكر":"إنثى"}}</span>
                  </div>
                  <div class="info-item" *ngIf="teacher.jopName">
                    <i class="pi pi-briefcase"></i>
                    <span class="info-label">الوظيفة:</span>
                    <span class="info-value">{{teacher.jopName == 'Teacher' ? 'معلم' : 'مدير'}}</span>
                  </div>
                </div>
              </div>
              <ng-template pTemplate="footer">
                <div class="card-footer-actions">
                  <p-button 
                    label="تعديل" 
                    icon="pi pi-pencil" 
                    class="btn-edit" 
                    (click)="EditDialog(teacher)" 
                    styleClass="p-button-outlined p-button-success" />
                  <p-button 
                    label="حذف" 
                    icon="pi pi-trash" 
                    class="btn-delete" 
                    (click)="deleteEmployee(teacher.employeeID!, teacher.jopName)" 
                    styleClass="p-button-outlined p-button-danger" />
                </div>
              </ng-template>
            </p-card>
          </div>
          }@empty {
            <div class="empty-message">
              <i class="pi pi-users"></i>
              <p>لا يوجد موظفين</p>
            </div>
          }
        </div>
          <p-paginator dir="ltr" (onPageChange)="handlePageChange($event)" [first]="paginatorService.first()" [rows]="paginatorService.rows()"
          [totalRecords]="totalRecords" [rowsPerPageOptions]="[4, 10, 20]"/>
        }

        @if (showCulomn) {
          <app-custom-table
            [data]="paginated"
            [columns]="tableColumns"
            [loading]="isLoading"
            [totalRecords]="totalRecords"
            [rows]="paginatorService.rows()"
            [first]="paginatorService.first()"
            [rowsPerPageOptions]="[4, 10, 20]"
            [showGlobalFilter]="false"
            [trackByField]="'employeeID'"
            (pageChange)="handlePageChange($event)"
            (rowEdit)="onRowEdit($event)"
            (rowDelete)="onRowDelete($event)">
          </app-custom-table>
        }
      </div>
        
    </div>
  </div>
</div>