<!-- study-year.component.html -->
<div id="id01" class="modal-container" [attr.dir]="dir$ | async">

  <div class="modal-content">
    <h2 class="text-justify">العام الدارسي</h2>

    <!-- + سنة جديدة button -->
    <p-button class="showFee" variant="outlined" severity="success" (onClick)="showDialogAddYear()" label="+ سنة جديدة">
    </p-button>

    <!-- Add dialog -->
    <p-dialog header="إضافة سنة" [(visible)]="visible" [modal]="true" styleClass="year-dialog"
      [style]="{ width: '50rem' }" [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }" [resizable]="false">
      <app-new-year (yearAdded)="handleYearAdded()"></app-new-year>
    </p-dialog>

    <!-- Edit dialog -->
    <p-dialog header="تعديل سنة" [(visible)]="visibleEdit" [modal]="true" styleClass="year-dialog"
      [style]="{ width: '50rem' }" [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }" [resizable]="false"
      (onHide)="selectedYear = null">
      <app-new-year [year]="selectedYear" [isEditMode]="true" (yearAdded)="handleYearUpdated()"></app-new-year>
    </p-dialog>

    <!-- custom table -->
    <app-custom-table
      [data]="paginatedYears"
      [columns]="tableColumns"
      [loading]="isLoading"
      [totalRecords]="totalRecords"
      [rows]="pageSize"
      [first]="paginatorService.first()"
      [rowsPerPageOptions]="[8, 16, 25]"
      [showGlobalFilter]="false"
      [trackByField]="'yearID'"
      (pageChange)="handlePageChange($event)"
      (rowEdit)="editYear($event)"
      (rowDelete)="deleteYear($event)"
      (filterChange)="onFilterChange($event)">
    </app-custom-table>
  </div>
</div>