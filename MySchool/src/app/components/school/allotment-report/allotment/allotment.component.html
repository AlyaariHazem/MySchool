<div id="id01" class="container">
    <h2 class="title">تخصيص التقارير</h2>
    <div class="select">
        <p-select 
            [options]="reportOptions" 
            optionLabel="label" 
            [(ngModel)]="selectedReportOption"
            (ngModelChange)="onReportTypeChange()"
            placeholder="Select a report" />
    </div>

    <div class="flex flex-wrap gap-3 save">
        <button 
            class="w-3" 
            pButton 
            type="button" 
            label="حفظ التغييرات" 
            icon="pi pi-save"
            (click)="saveTemplate()"
            [disabled]="isSaving || isLoading">
        </button>
    </div>

    <ng-template #reportContainer></ng-template>

    <div #editorPreview dir="rtl">
        <form [formGroup]="formGroup">
            <p-editor 
                #editor
                formControlName="text" 
                [style]="{ height: '320px' }"
                [readonly]="isLoading"
                (onTextChange)="onEditorTextChange($event)"
                (onInit)="onEditorInit($event)">
            </p-editor>
        </form>
    </div>
</div>